!function(t){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(o,s,function(i){return t[i]}.bind(null,s));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);class o{constructor(t=0,i=0){this.x=t||0,this.y=i||0}add(t){this.x+=t.x,this.y+=t.y}mult(t){if(!(t instanceof o))return this.x*=t,this.y*=t,this;this.x*=t.x,this.y*=t.y}div(t){t instanceof o?(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=t)}limit(t){let i=this.x*this.x+this.y*this.y;return i>t*t&&(this.div(Math.sqrt(i)),this.mult(t)),this}}let s,r,h,l,n,a,c,d,u={Credits:{GameTitle:"Brick Break",LeadCoder:"Michael Walker",OriginalIdea:"Steve Wozniak",thisProject:"is FREE to anyone"},Classes:{Ball:"Methods",Paddle:"Methods",Brick:"Methods",Ai:"methods"},Styles:{Modern:{brick:{set1:[[["white"],["indigo"],["indigo"]],[["white"],["purple"],["purple"]],[["white"],["blueViolet"],["blueviolet"]],[["white"],["mediumOrchid"],["mediumOrchid"]],[["white"],["orchid"],["orchid"]]],set2:[[["white"],["navy"],["navy"]],[["white"],["blue"],["blue"]],[["white"],["deepSkyBlue"],["dodgerBlue"]],[["white"],["lightBlue"],["skyBlue"]],[["white"],["lightCyan"],["lightCyan"]]]},ball:["white","red"],text:["36px 'Eternal Knight Laser Itallic'"],textLocation:[200,50],color:[[218,247,166],[255,195,0],[255,87,51],[199,0,57],[133,193,233],[46,204,113]],font:["'Eternal Knight Laser Itallic'","30px"],paddle:["snow","dimGray","black"],background:["lightgrey",!1]},Retro:{brick:{set1:[[["dimGray"],["dimGray"],["dimGray"]],[["gray"],["gray"],["gray"]],[["darkGray"],["darkGray"],["darkGray"]],[["lightGray"],["lightGray"],["lightGray"]],[["white"],["white"],["white"]]],set2:[[["black"],["black"],["black"]],[["dimGray"],["dimGray"],["dimGray"]],[["gray"],["gray"],["gray"]],[["darkGray"],["darkGray"],["darkGray"]],[["lightGray"],["lightGray"],["lightGray"]]]},ball:["grey","grey"],text:["24px 'Press Start 2P'"],textLocation:[150,50],color:[[255,255,255],[255,255,255],[0,0,0],[0,0,0],[0,0,0],[255,255,255]],font:["'Press Start 2P'","15px"],paddle:["black","black","black"],background:["white",!1]},Zelda:{brick:{set1:[[["white"],["indigo"],["indigo"]],[["white"],["purple"],["purple"]],[["white"],["blueViolet"],["blueviolet"]],[["white"],["mediumOrchid"],["mediumOrchid"]],[["white"],["orchid"],["orchid"]]],set2:[[["khaki"],["gold"],["gold"]],[["lightYellow"],["yellow"],["gold"]],[["silver"],["gainsboro"],["silver"]],[["royalBlue"],["mediumblue"],["navy"]],[["yellow"],["gold"],["gold"]]]},ball:["powderBlue","royalBlue"],text:["48px 'Triforce'"],textLocation:[100,50],color:[[247,249,249],[34,101,226],[190,216,212],[120,213,215],[99,210,255],[255,255,255]],font:["Triforce","34px"],paddle:["blue","mediumBlue","darkBlue"],background:["rgb(44,176,26)",!0]},PacMan:{brick:{set1:[[["navy"],["blue"],["navy"]],[["navy"],["blue"],["navy"]],[["navy"],["blue"],["navy"]],[["navy"],["blue"],["navy"]],[["navy"],["blue"],["navy"]]],set2:[[["darkRed"],["red"],["darkRed"]],[["#FF1493"],["#ffb8ff"],["#FF1493"]],[["dodgerBlue"],["#00ffff"],["dodgerBlue"]],[["darkOrange"],["FFB852"],["darkOrange"]],[["gold"],["yellow"],["gold"]]]},ball:["rgb(255,255,0)","rgb(255,255,0)"],text:["35px PacFont"],textLocation:[200,50],color:[[255,0,0],[255,184,255],[0,255,255],[255,184,82],[255,255,0],[0,0,0]],font:["PacFont","25px"],paddle:["rgb(33,33,222)","rgb(33,33,222)","rgb(33,33,222)"],background:["rgb(0, 0,0)",!1]}}},p=["Zelda","Retro","Zelda","Modern","PacMan"],f=document.getElementById("colorSelect").selectedIndex;function w(t){r=t.Styles[p[f]].color,h=t.Styles[p[f]].brick,n=t.Styles[p[f]].text,a=t.Styles[p[f]].ball,l=t.Styles[p[f]].paddle,c=t.Styles[p[f]].font,d=t.Styles[p[f]].background,s=t.Styles[p[f]].textLocation}w(u),document.querySelector(".styleSelector").addEventListener("change",t=>{f=t.target.selectedIndex,w(u)});class y{constructor(t){this.frame=0,this.counter=0,this.sprites=[],this.numberOfSprites=t}addSprites(t,i){for(let e=0;e<this.numberOfSprites;e++){let o=new Image;o.src=`${t}${e}${i}`,this.sprites.push(o)}}Sprite(t){return this.counter++,this.counter%t==0&&this.frame++,this.sprites[this.frame%this.numberOfSprites]}staticSprite(t){return this.sprites[t]}}class g{constructor(t,i,e){this.position=new o(t,i),this.width=A.width/10-2.5,this.height=A.height/20-4,this.health=e,this.startingHealth=e,this.effect=!1,this.cracked=!1}hit(){this.health-=1,this.cracked=!0}show(){let t=K.staticSprite(this.health),i=h.set1[this.health-1],e=h.set2[this.health-1];if(this.effect){let t=E.createLinearGradient(this.position.x,this.position.y,this.position.x,this.position.y+this.height);t.addColorStop(0,`${i[0][0]}`),t.addColorStop(.6,`${i[1][0]}`),t.addColorStop(1,`${i[2][0]}`),E.fillStyle=t,E.fillRect(this.position.x,this.position.y,this.width,this.height)}else{let t=E.createLinearGradient(this.position.x,this.position.y,this.position.x,this.position.y+this.height);t.addColorStop(0,`${e[0][0]}`),t.addColorStop(.6,`${e[1][0]}`),t.addColorStop(1,`${e[2][0]}`),E.fillStyle=t,E.fillRect(this.position.x,this.position.y,this.width,this.height)}!0===this.cracked&&E.drawImage(t,this.position.x,this.position.y,this.width,this.height)}}function m(t){S.balls.forEach(i=>(function(t,i){let e=t.position.x,o=t.position.y,s=t.radius,r=i.position.x,h=i.position.y,l=i.width,n=i.height,a=!1,c=!1,d=e,u=o;e<r?(d=r+.02,a=!0):e>r+l&&(d=r+l,a=!0);o<h?(u=h,c=!0):o>h+n&&(u=h+n,c=!0);let p=e-d,f=o-u;Math.sqrt(p*p+f*f)<=s/2+.6*s&&(c&&a?(t.velocity.x*=-1,t.velocity.y*=-1,i.hit(),_.hit=!0):(c&&(i.hit(),_.hit=!0,t.velocity.y*=-1),a&&(i.hit(),_.hit=!0,t.velocity.x*=-1)))})(i,t))}class b{constructor(){this.scoreboard=document.getElementById("ScoreBoard"),this.div=this.scoreboard.children,this.drawn=!1}drawScoreBoard(){this.scoreboard.style.fontFamily=`${c[0]}`,this.scoreboard.style.fontSize=`${c[1]}`,this.div[1].innerHTML=`${S.score}  `,this.div[3].innerHTML=`${S.levelNum}`,this.div[4].innerHTML="----BRICK BREAKER!----",this.div[6].innerHTML=`${_.lives}`,this.div[8].innerHTML=`${S.balls.length}`}drawScore(){this.div[1].innerHTML=`${S.score}  `}drawLevelNum(){this.div[3].innerHTML=`${S.levelNum}`}drawGameName(){this.div[5].innerHTML="----BRICK BREAKER!----"}drawLives(){this.div[6].innerHTML=`${_.lives}`}drawBalls(){this.div[8].innerHTML=`${S.balls.length}`}}let v,x=0,k=0;const S={levelNum:1,numOfPowers:1,numOfRows:3,weakestBrick:1,score:0,bricks:[],balls:[],fortifier:0,GameText(){let t=new b;if(t.drawn||t.drawScoreBoard(),t.drawGameName,k++,E.font=`${n}`,k%5==0&&x++,E.fillStyle=`rgb(${r[x%6][0]},${r[x%6][1]},${r[x%6][2]})`,_.active||(E.fillText(`Welcome To Level ${S.levelNum}`,A.width/2-s[0],A.height/2),E.fillText("Press Enter To Begin ",A.width/2-s[0],A.height/2+s[1])),N.control?(E.fillText("Start Game",A.width/2-s[0],A.height/2),E.fillText("Click Anywhere!",A.width/2-s[0],A.height/2+s[1])):_.powerActive&&(v||(E.fillText(`${L}`,A.width/2-100,A.height/2),setTimeout(()=>v=!0,2e3))),_.hit){function i(){let i=document.getElementById("gameName"),e=i.cloneNode(!1);t.scoreboard.replaceChild(e,i),e.style.animation="color 2s infinite",_.hit=!1}document.getElementById("gameName").style.animation="brickHit .3s 5",setTimeout(i,600)}},makeEffect:()=>S.numOfPowers>0&&Math.random()>.7,fortifyBricks(){S.levelNum%5==0&&(this.fortifier+=1)},makeBricks(){this.fortifyBricks();let t=S.numOfRows*A.height/20+A.height/20;for(S.weakestBrick=1+this.fortifier;t>A.height/20;t-=A.height/20){let i=S.weakestBrick>5?5:S.weakestBrick;for(let e=9;e>-1;e--)if(this.makeEffect()){let o=new g(e*A.width/10,t,i);S.numOfPowers--,o.effect=!0,S.bricks.push(o)}else S.bricks.push(new g(e*A.width/10,t,i));S.weakestBrick++}},showBricks(){for(let t=0;t<S.bricks.length;t++)if(S.bricks[t].show(),m(S.bricks[t]),S.bricks[t].health<=0){let i=K.Sprite(5);E.drawImage(i,S.bricks[t].position.x,S.bricks[t].position.y,S.bricks[t].width,S.bricks[t].height);let e=S.bricks.splice(t,1);e[0].effect&&(_.powerActive=!0,$()),S.score+=500*e[0].startingHealth}},reset(){S.bricks=[],_.powerActive=!1,$(),S.balls.splice(0,S.balls.length-1),S.balls.forEach(t=>{t.position.x=A.width/2,t.position.y=A.height/2}),I.position.x=A.width/2-I.width/2,_.active=!1,S.numOfPowers=1,S.makeBricks()}},B={doubler:{effect(t=I){t.width<A.width/4?t.width*=2:t.width<A.width/2?t.width*=1.5:B.multiBall.effect()},loseEffect(t=I){t.width=A.width/5}},multiBall:{counter:0,maxBall:10,effect(t=5){for(this.maxBall=t,this.counter;this.counter<this.maxBall;this.counter++)S.balls.push(new R(S.balls[0].position.x+3*this.counter,S.balls[0].position.y)),S.balls.push(new R(S.balls[0].position.x-3*this.counter,S.balls[0].position.y));this.counter=0},loseEffect(){_.powerActive=!1}},extraLife:{effect(){_.lives+=1},loseEffect(){_.powerActive=!1}}};let L,A=O(),E=A.getContext("2d");function O(t,i){let e=t||(.75*window.innerWidth).toString(),o=i||(3*window.innerHeight/4).toString(),s=document.getElementById("canvas");return s.setAttribute("width",e),s.setAttribute("height",o),s}function $(){let t=Math.floor(100*Math.random()),i=Object.keys(B);L=i[t%i.length],_.powerActive?B[L].effect():_.powerActive||B.doubler.loseEffect()}let G=new y(31);G.addSprites("../docs/zelda/tile",".jpg");class R{constructor(t,i){this.position=new o(t,i),this.velocity=new o(0,0),this.acceleration=new o(1,7),this.radius=A.width/1.3*A.height*3443e-8,this.speedLimit=6,this.ballLost=!1}contact(t){if(!(this.position.y>t.position.y+t.height)&&this.position.y>t.position.y-this.radius&&this.position.x>t.position.x-this.radius&&this.position.x<t.position.x+t.width+this.radius&&this.velocity.y>0){let i=(this.position.x-t.position.x)/(t.position.x+t.width-t.position.x)*4-2;this.acceleration.x+=1.7*i,this.velocity.y*=-1}}move(){_.active&&(this.velocity.add(this.acceleration),this.velocity.mult(6),this.velocity.limit(6),this.position.add(this.velocity),this.acceleration.mult(0))}hitWall(){this.position.y>=A.height-this.radius&&(this.ballLost=!0),this.position.y<=this.radius&&(this.velocity.y*=-1),this.position.x>=A.width-(this.radius+.01*this.radius)&&(this.velocity.x*=-1,this.position.x),this.position.x<=this.radius+.01*this.radius&&(this.velocity.x*=-1,this.position.x)}show(){let t=E.createRadialGradient(this.position.x,this.position.y,.14*this.radius,this.position.x,this.position.y,this.radius);t.addColorStop(0,`${a[0]}`),t.addColorStop(1,`${a[1]}`),E.fillStyle=t,E.beginPath(),E.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),E.fill()}}class M{constructor(){this.position=new o,this.control=!0,this.offset=0}logic(t){let i=0,e=0;S.bricks.forEach(t=>t.position.x>A.width/2?i++:e++),i>e?this.choose("left"):e>i?this.choose("right"):this.choose("middle"),this.position.x=t.position.x}choose(t){let i=0;switch(t){case"left":for(;i>=-50;i-=1)this.position.x+=C.position.x+i;break;case"right":for(;i<=50;i+=1)this.position.x+=C.position.x+i;break;default:this.offset=0,this.position.x+=C.position.x+i}}}const P={ballLoop(){S.balls.forEach(t=>{t.show(),t.contact(I),t.move(),t.hitWall(),N.logic(t);for(let t=S.balls.length;t>0;t--)S.balls[t-1].ballLost&&S.balls.splice(t-1,1)})},ends(){0===S.bricks.length&&this.win(),S.balls.length<1&&this.loseLife(),0===_.lives&&this.gameOver()},win(){S.balls.splice(0,S.balls.length-1),S.levelNum+=1,S.numOfPowers+=1,S.numOfRows+=1,S.weakestBrick+=1,S.balls.forEach(t=>{t.position.x=A.width/2,t.position.y=A.height/2}),S.numOfPowers=S.levelNum,N.control||(_.active=!1),S.makeBricks()},gameOver(){_.active||(_.active=!1,_.powerActive=!1,_.over=!0,(()=>A.addEventListener("click",()=>!0,!1))&&(S.numOfPowers=1,S.bricks=[],S.makeBricks(),S.score=0,S.levelNum=1,_.lives+=3,_.over=!1,I.position.x=A.width/2-I.width/2))},demo(){N.control?(_.active=!0,I.demo(N)):I.move()},loseLife(){S.balls.push(new R(A.width/2,A.height/2)),_.lives--,_.powerActive=!1,_.active=!1,$()}};class T{constructor(t,i){this.width=A.width/5,this.height=.02474*A.height,this.position=new o(t,i),this.velocity=new o(0,0)}show(){let t=E.createLinearGradient(this.position.x,this.position.y,this.position.x,this.position.y+this.height);t.addColorStop(0,`${l[0]}`),t.addColorStop(.45,`${l[1]}`),t.addColorStop(1,`${l[2]}`),E.fillStyle=t,E.fillRect(this.position.x,this.position.y,this.width,this.height)}move(){N.control?this.demo(N):(W.ArrowLeft?this.velocity.x=-j:W.ArrowRight?this.velocity.x=j:this.velocity.x=0,this.velocity.limit(4),this.position.add(this.velocity),this.position.x<=0?this.position.x=0:this.position.x+this.width>=A.width&&(this.position.x=A.width-this.width))}demo(t){this.position.x=t.position.x-this.width/2,this.position.x<=0?this.position.x=0:this.position.x+this.width>=A.width&&(this.position.x=A.width-this.width)}}let C,I,H,N,F;e.d(i,"ball",function(){return C}),e.d(i,"brick",function(){}),e.d(i,"player",function(){return I}),e.d(i,"clicked",function(){}),e.d(i,"keyPressed",function(){return H}),e.d(i,"ai",function(){return N}),e.d(i,"keyRel",function(){return F}),e.d(i,"PaddleSpeed",function(){return j}),e.d(i,"title",function(){}),e.d(i,"cracks",function(){return K}),e.d(i,"keyBoard",function(){return W}),e.d(i,"game",function(){return _});let j=6,K=new y(5);K.addSprites("../docs/cracks/crack0",".png");const W={ArrowLeft:!1,ArrowRight:!1},_={lives:3,balls:1,active:!1,powerActive:!1,over:!1,hit:!1};function q(){!function(){if(!1===d[1])E.fillStyle=d[0],E.clearRect(0,0,A.width,A.height),E.fillRect(0,0,A.width,A.height);else{let t=G.Sprite(8);E.clearRect(0,0,A.width,A.height),E.drawImage(t,0,0,A.width,A.height)}}(),S.showBricks(),P.ballLoop(),S.GameText(),P.ends(),P.demo(),I.move(),I.show(),requestAnimationFrame(q)}O(),window.onload=function(){document.addEventListener("keydown",t=>{"ArrowLeft"===(H=t.key)&&(W.ArrowLeft=!0),"ArrowRight"===H&&(W.ArrowRight=!0),"Enter"!==H||N.control||_.active||(_.active=!0),["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(t.code)>-1&&t.preventDefault()},!1),document.addEventListener("keyup",t=>{"ArrowLeft"===(F=t.key)&&(W.ArrowLeft=!1),"ArrowRight"===F&&(W.ArrowRight=!1)},!1),A.addEventListener("click",()=>{N.control&&(N.control=!1,S.reset())},{once:!0}),N=new M,C=new R(A.width/2,A.height/2),I=new T(A.width/2,A.height-.2*A.height),S.makeBricks(),S.balls.push(C),N.control=!0,_.active=!1,q()}}]);